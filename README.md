# Викторина

Чат-боты для проведения онлайн викторин в Telegram и VK с использованием Redis.

Работу чатов можно протестировать
#### VK:
Напишите [сообществу](https://vk.com/club229437286) "привет"
#### TG:
Напишите в бот [/start](https://t.me/Devman_quiz_bot)

## Установка
1. Клонировать репозиторий:
   ```bash
   git clone https://github.com/aqwarius2003/quiz-bot.git
   ```
2. Убедитесь, что установлен Python 3.11, создайте виртуальное окружение и активируйте его.
3. Установите необходимые зависимости:
   ```sh
   pip install -r requirements.txt
   ```

## Настройка окружения
1. Создайте `.env` файл и добавьте в него:
   ```ini
   TG_BOT_TOKEN="ваш_токен_бота"
   VK_BOT_TOKEN="ваш_токен_вк"
   REDIS_ADDRESS="адрес_redis"
   REDIS_PORT="порт_redis"
   REDIS_PASSWORD="your_password_redis"
   ```

## Получение токенов

### Для Redis:
1. Если у вас установлен [Docker](https://www.docker.com/), запустите Redis командой:
   ```bash
   docker run -p 6379:6379 -d redis
   ```
2. В таком случае параметры в `.env` будут:
   ```ini
   REDIS_ADDRESS=localhost
   REDIS_PORT=6379 
   REDIS_PASSWORD=
   ```
3. Также можно создать и подключить экземпляр Redis [здесь](https://app.redislabs.com/).

### Для Telegram:
1. Откройте Telegram и найдите [@BotFather](https://t.me/BotFather).
2. Используйте команду `/newbot`.
3. Укажите имя бота (например: `QuizMasterBot`).
4. Получите токен, который будет выглядеть так: `123456789:ABCdefGHIJKlmNoPQRsTUVwxyZ`.

### Для VK:

#### Создайте сообщество ВКонтакте
1. Перейдите в раздел [Управление сообществами](https://vk.com/groups?act=manage).
2. Нажмите «Создать сообщество» → Выберите «Публичная страница».
3. Укажите название (например: "Quiz Bot Community").

#### Настройте бота
1. Перейдите в «Управление сообществом» → «Разделы» → включите «Сообщения».
2. Перейдите в «Настройки» → «Работа с API»:
   - Активируйте «Возможности ботов».
   - Включите «Callback API», если планируете его использовать.

#### Получите API-ключ
1. В разделе «Работа с API»:
   - Нажмите «Создать ключ».
   - Выберите права доступа:
     - `Сообщения сообщества`
     - `Доступ в любое время`
   - Подтвердите действие.
2. Скопируйте сгенерированный ключ (пример: `d3f4u1tT0k3nVkAp1K3y12345abc`).

## Quiz Archive Loader

Автоматическая загрузка и распаковка вопросов для викторины.  
Архив будет:
 - Скачан в папку `data/`
 - Распакован в `data/QA_FOLDER/`

### Использование
```bash
python main.py
```

## Запуск:
1. Телеграм-бот:
   ```sh
   python tg_bot.py
   ```
2. ВК-бот:
   ```sh
   python vk_bot.py
   ```

***

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [Devman](https://dvmn.org).
